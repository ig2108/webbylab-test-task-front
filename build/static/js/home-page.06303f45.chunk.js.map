{"version":3,"sources":["components/FilmsList/FilmsList.module.css","components/Searchbar/Searchbar.module.css","pages/HomePage/HomePage.module.css","components/FilmsList/FilmsList.jsx","components/Searchbar/Searchbar.jsx","pages/HomePage/HomePage.jsx","components/Button/Button.jsx","components/Button/Button.module.css","services/filmsApi.jsx","components/ModalDelete/ModalDelete.module.css","../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","components/ModalDelete/ModalDelete.jsx"],"names":["module","exports","withRouter","films","location","onDeleteFunc","className","styles","filmsList","map","_id","title","key","filmsListItem","filmListItem__Link","to","pathname","state","from","filmsListItemTitle","Button","onClickFunc","holderText","typeOfButton","nameOfClass","buttonStyles","deleteButton","dataId","Searchbar","queryInput","handleChangeInputSearch","e","value","target","setState","handleSubmit","preventDefault","onSubmit","props","placeholderInput","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","defaultProps","HomePage","sortByTitle","filterTitle","filterActor","isModalDeleteOpen","idToDelete","handleOpenModalDelete","toggleModalDelete","id","dataset","handleDelete","filmsApi","then","data","sortFilms","setFilmsToState","NotificationManager","success","catch","err","console","log","handleSortByTitle","setSortedFilmsFromDbToState","handleSortDefault","setFilmsFromDbToState","handleSubmitSearchTitle","queryString","handleSubmitSearchActor","sort","a","b","toLowerCase","isStartedFromCapitalLetter","prevProps","prevState","string","toUpperCase","filteredFilms","filter","film","includes","filterFilmsByTitle","filteredFilmsBySearch","stars","join","push","filterFilmsByActor","homePage","sortButtonWrap","sortButton","searchbarWrap","searchbarTitle","filmListTitle","length","ModalDelete","filmId","handleCloseModal","onClickDeleteFilm","onClick","data-id","BASE_URL","getAllFilms","axios","get","getFilmWithId","addNewFilm","post","uploadFileFilms","file","deleteFilm","delete","hasPassiveEvents","window","passiveTestOptions","addEventListener","removeEventListener","isIosDevice","navigator","platform","test","maxTouchPoints","locks","documentListenerAdded","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","el","some","lock","options","rawEvent","event","touches","restoreOverflowSetting","undefined","document","body","style","paddingRight","overflow","targetElement","handleDeleteFilm","onEscapePress","querySelector","forEach","ontouchstart","ontouchmove","passive","Overlay","Modal","modalTitle","modal__button_wrap","backToFilmListButton"],"mappings":"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","file":"static/js/home-page.06303f45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"filmsList\":\"FilmsList_filmsList__1p8dj\",\"filmsListItem\":\"FilmsList_filmsListItem__3oJ1d\",\"filmListItem__Link\":\"FilmsList_filmListItem__Link__ftD8e\",\"filmsListItemTitle\":\"FilmsList_filmsListItemTitle__2Bggl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__O4m0E\",\"SearchForm\":\"Searchbar_SearchForm__Wstyn\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2brRI\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3xbb0\",\"SearchFormInput\":\"Searchbar_SearchFormInput__6O8tI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sortButtonWrap\":\"HomePage_sortButtonWrap__3HW97\",\"searchbarWrap\":\"HomePage_searchbarWrap__3sMdB\",\"searchbarTitle\":\"HomePage_searchbarTitle__2xtjU\",\"filmListTitle\":\"HomePage_filmListTitle__gnGpB\"};","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '../Button/Button';\r\n\r\nimport styles from './FilmsList.module.css';\r\nimport buttonStyles from '../Button/Button.module.css'\r\n\r\nconst FilmsList = ({ films = [], location, onDeleteFunc }) => {\r\n  return (\r\n    <ul className={styles.filmsList}>\r\n      {films.map(({ _id, title }) => (\r\n        <li key={_id} className={styles.filmsListItem}>\r\n          <Link className={styles.filmListItem__Link} to={{ pathname: `/films/${_id}`, state: { from: location } }}>\r\n            <p className={styles.filmsListItemTitle}>{title}</p>\r\n          </Link>\r\n          <Button onClickFunc={onDeleteFunc} holderText={'Delete'} typeOfButton={'button'} nameOfClass={buttonStyles.deleteButton} dataId={_id}/>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nFilmsList.propTypes = {\r\n  films: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      _id: PropTypes.string.isRequired,\r\n      format: PropTypes.string.isRequired,\r\n      releaseYear: PropTypes.number.isRequired,\r\n      stars: PropTypes.array.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  location: PropTypes.object.isRequired,\r\n  onDeleteFunc: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withRouter(FilmsList);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    queryInput: '',\r\n  };\r\n\r\n  handleChangeInputSearch = e => {\r\n    const { value } = e.target;\r\n    this.setState({\r\n      queryInput: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { queryInput } = this.state;\r\n    const { onSubmit } = this.props;\r\n    if (queryInput) {\r\n      onSubmit(queryInput);\r\n      this.setState({\r\n        queryInput: '',\r\n      });\r\n    };\r\n  };\r\n\r\n  render() {\r\n    const {placeholderInput} = this.props;\r\n    const { queryInput } = this.state;\r\n    return (\r\n      <div className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={queryInput}\r\n            onChange={this.handleChangeInputSearch}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder={placeholderInput}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nSearchbar.defaultProps = {\r\n  placeholderInput: 'Search'\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  placeholderInput: PropTypes.string,\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nimport * as filmsApi from '../../services/filmsApi';\r\n\r\nimport Button from '../../components/Button/Button';\r\nimport FilmsList from '../../components/FilmsList/FilmsList';\r\nimport Searchbar from '../../components/Searchbar/Searchbar';\r\nimport ModalDelete from '../../components/ModalDelete/ModalDelete';\r\n\r\nimport styles from './HomePage.module.css';\r\nimport buttonStyles from '../../components/Button/Button.module.css';\r\n\r\nconst filterFilmsByTitle = (films, filter) => {\r\n  return films.filter(film =>\r\n    film.title.toLowerCase().includes(filter.toLowerCase())\r\n  );\r\n};\r\n\r\nconst filterFilmsByActor = (films, filter) => {\r\n  let filteredFilmsBySearch = [];\r\n  films.map(film => {\r\n    if (film.stars.join().toLowerCase().includes(filter.toLowerCase())) {\r\n      filteredFilmsBySearch.push(film);\r\n    };\r\n  });\r\n  return filteredFilmsBySearch;\r\n};\r\n\r\nexport default class HomePage extends Component {\r\n  state = {\r\n    films: [],\r\n    sortByTitle: false,\r\n    filterTitle: '',\r\n    filterActor: '',\r\n    isModalDeleteOpen: false,\r\n    idToDelete: null,\r\n  };\r\n\r\n  // LIFECYCLE METHODS ============================\r\n\r\n  componentDidMount() {\r\n      this.setFilmsFromDbToState();\r\n      this.setState({\r\n        filterTitle: '',\r\n        filterActor: '',\r\n      })\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.films !== this.state.films) {\r\n      console.log(\"Updated state!\");\r\n    };\r\n\r\n    if (prevState.filterTitle !== this.state.filterTitle || prevState.filterActor !== this.state.filterActor) {\r\n      console.log('Updated search!');\r\n    };\r\n  };\r\n\r\n  // HANDLE-EVENT METHODS ============================\r\n\r\n  handleOpenModalDelete = (e) => {\r\n    e.preventDefault();\r\n    this.toggleModalDelete();\r\n    const id = e.target.dataset.id;\r\n    this.setState({\r\n      idToDelete: id,\r\n    });\r\n  };\r\n\r\n  handleDelete = (id) => {\r\n    filmsApi\r\n    .deleteFilm(id)\r\n    .then(({data}) => {\r\n      if (this.state.sortByTitle === false) {\r\n        this.setFilmsToState(data);\r\n      } else {\r\n        this.sortFilms(data);\r\n        this.setFilmsToState(data);\r\n      };\r\n      NotificationManager.success('Your film successfully deleted!', 'Deleted!', 5000);\r\n      this.toggleModalDelete();\r\n    })\r\n    .catch(err => console.log(err));\r\n  };\r\n\r\n  handleSortByTitle = () => {\r\n    this.setState({\r\n      sortByTitle: true,\r\n    });\r\n    this.setSortedFilmsFromDbToState();\r\n  };\r\n\r\n  handleSortDefault = () => {\r\n    this.setState({\r\n      sortByTitle: false,\r\n    });\r\n    this.setFilmsFromDbToState();\r\n  };\r\n\r\n  handleSubmitSearchTitle = (queryString) => {\r\n    this.setState({\r\n      filterTitle: queryString,\r\n    });\r\n  };\r\n\r\n  handleSubmitSearchActor = (queryString) => {\r\n    this.setState({\r\n      filterActor: queryString,\r\n    });\r\n  };\r\n\r\n  // API METHODS ============================\r\n\r\n  setFilmsFromDbToState () {\r\n    filmsApi\r\n    .getAllFilms()\r\n    .then(({ data }) => {\r\n      this.setFilmsToState(data);\r\n    })\r\n    .catch(err => console.log(err));\r\n  };\r\n\r\n  setSortedFilmsFromDbToState () {\r\n    filmsApi\r\n    .getAllFilms()\r\n    .then(({ data }) => {\r\n      this.sortFilms(data);\r\n      this.setFilmsToState(data);\r\n    })\r\n    .catch(err => console.log(err));\r\n  };\r\n\r\n  // HELP METHODS ============================\r\n\r\n  setFilmsToState = (films) => {\r\n    this.setState({\r\n      films,\r\n    });\r\n  };\r\n\r\n  sortFilms = (films) => {\r\n    return films.sort((a, b) => {\r\n      if (a.title.toLowerCase() > b.title.toLowerCase() ) {\r\n        if(a.title[0] === b.title[0]) {\r\n          if(this.isStartedFromCapitalLetter(a.title) && !this.isStartedFromCapitalLetter(b.title)) {\r\n            return 1;\r\n          } else if(!this.isStartedFromCapitalLetter(a.title) && this.isStartedFromCapitalLetter(b.title)) {\r\n            return -1;\r\n          } else {\r\n            return 1;\r\n          }\r\n        } else {\r\n          return 1;\r\n        }\r\n      } else if (a.title.toLowerCase() < b.title.toLowerCase()) {\r\n        if(a.title[0] === b.title[0]) {\r\n          if(this.isStartedFromCapitalLetter(a.title) && !this.isStartedFromCapitalLetter(b.title)) {\r\n            return -1;\r\n          } else if(!this.isStartedFromCapitalLetter(a.title) && this.isStartedFromCapitalLetter(b.title)) {\r\n            return 1;\r\n          } else {\r\n            return -1;\r\n          };\r\n        } else {\r\n          return -1;\r\n        };\r\n      };\r\n    });\r\n\r\n  };\r\n\r\n  isStartedFromCapitalLetter (string) {\r\n    return (string[0] === string[0].toUpperCase()) ? true : false;\r\n  };\r\n\r\n  toggleModalDelete = () => {\r\n    const {isModalDeleteOpen} = this.state;\r\n    this.setState ({\r\n      isModalDeleteOpen: !isModalDeleteOpen,\r\n    });\r\n  };\r\n\r\n  // RENDER ============================\r\n\r\n  render() {\r\n    const { films, filterTitle, filterActor, isModalDeleteOpen, idToDelete } = this.state;\r\n    let filteredFilms;\r\n    if (filterTitle) {\r\n      filteredFilms = filterFilmsByTitle(films, filterTitle);\r\n    } else if (filterActor) {\r\n      filteredFilms = filterFilmsByActor(films, filterActor);\r\n    } else {\r\n      filteredFilms = films;\r\n    }\r\n    return (\r\n      <div className={styles.homePage}>\r\n        <div className={styles.sortButtonWrap}>\r\n          <Button holderText={'Sort by Title'} nameOfClass={buttonStyles.sortButton} onClickFunc={this.handleSortByTitle} />\r\n          <Button holderText={'Default sort'} nameOfClass={buttonStyles.sortButton} onClickFunc={this.handleSortDefault} />\r\n        </div>\r\n        <div className={styles.searchbarWrap}>\r\n          <h3 className={styles.searchbarTitle}>Search film by title:</h3>\r\n          <Searchbar onSubmit={this.handleSubmitSearchTitle} placeholderInput={'Please, type title'} />\r\n          <h3 className={styles.searchbarTitle}>Search film by actor:</h3>\r\n          <Searchbar onSubmit={this.handleSubmitSearchActor} placeholderInput={'Please, type actor'} />\r\n        </div>\r\n        <h2 className={styles.filmListTitle}>Films</h2>\r\n        {filteredFilms.length === 0 && (filterTitle !== '' || filterActor !== '') && <h3>No movies found with the specified search parameters!</h3>}\r\n        <FilmsList films={filteredFilms} onDeleteFunc={this.handleOpenModalDelete} />\r\n        <NotificationContainer/>\r\n        {isModalDeleteOpen && <ModalDelete filmId={idToDelete} handleCloseModal={this.toggleModalDelete} onClickDeleteFilm={this.handleDelete}/>}\r\n      </div>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({onClickFunc, holderText = \"Button\", nameOfClass, typeOfButton = \"button\", dataId}) => {\r\n  if (dataId) {\r\n    return (\r\n      <button className={nameOfClass} type={typeOfButton} onClick={onClickFunc} data-id={dataId}>\r\n        {holderText}\r\n      </button>\r\n    );\r\n  } else {\r\n    return (\r\n      <button className={nameOfClass} type={typeOfButton} onClick={onClickFunc}>\r\n        {holderText}\r\n      </button>\r\n    )\r\n  };\r\n};\r\n\r\nButton.propTypes = {\r\n  onClickFunc: PropTypes.func,\r\n  holderText: PropTypes.string,\r\n  typeOfButton: PropTypes.string,\r\n  nameOfClass: PropTypes.string,\r\n};\r\n\r\nexport default Button;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sortButton\":\"Button_sortButton__2xrgb\",\"deleteButton\":\"Button_deleteButton__32a5-\",\"backToFilmListButton\":\"Button_backToFilmListButton__XGy09\",\"addFilmFormButton\":\"Button_addFilmFormButton__1vNvk\"};","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://powerful-peak-59605.herokuapp.com/films/';\r\n\r\nexport const getAllFilms = () => axios.get(BASE_URL);\r\n\r\nexport const getFilmWithId = id => axios.get(BASE_URL + `${id}`);\r\n\r\nexport const addNewFilm = film => axios.post(BASE_URL, film);\r\n\r\nexport const uploadFileFilms = file => axios.post(BASE_URL + \"upload\", file);\r\n\r\nexport const deleteFilm = id => axios.delete(BASE_URL + `${id}`);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"ModalDelete_Overlay__2KyLn\",\"Modal\":\"ModalDelete_Modal__2hMMs\",\"modalTitle\":\"ModalDelete_modalTitle__Ax-gf\",\"modal__button_wrap\":\"ModalDelete_modal__button_wrap__1Rq4S\"};","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  } else {\n    setOverflowHidden(options);\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  } else if (!locks.length) {\n    restoreOverflowSetting();\n  }\n};\n\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  clearAllBodyScrollLocks,\r\n} from 'body-scroll-lock';\r\n\r\nimport Button from '../Button/Button';\r\n\r\nimport styles from './ModalDelete.module.css';\r\nimport buttonStyles from '../Button/Button.module.css';\r\n\r\nexport default class ModalDelete extends Component {\r\n  state = {\r\n\r\n  };\r\n\r\n  targetElement = null;\r\n\r\n  // LIFECYCLE METHODS ============================\r\n\r\n  componentWillMount() {\r\n    window.addEventListener('keydown', this.onEscapePress);\r\n    this.targetElement = document.querySelector('#ModalDelete');\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscapePress);\r\n    clearAllBodyScrollLocks();\r\n  };\r\n\r\n  // HANDLE-EVENT METHODS ============================\r\n\r\n  handleDeleteFilm = (e) => {\r\n    e.preventDefault();\r\n    const {onClickDeleteFilm} = this.props;\r\n    const id = e.target.dataset.id;\r\n    onClickDeleteFilm(id);\r\n  };\r\n\r\n  // HELP METHODS ============================\r\n\r\n  onEscapePress = event => {\r\n    if (event.key !== 'Escape') {\r\n      return;\r\n    };\r\n    this.props.handleCloseModal();\r\n  };\r\n\r\n  // RENDER ============================\r\n\r\n  render() {\r\n    const {filmId ,handleCloseModal} = this.props;\r\n    return (\r\n      <div className={styles.Overlay} id={'ModalDelete'}>\r\n        <div className={styles.Modal}>\r\n          <h3 className={styles.modalTitle}>Are you sure ?</h3>\r\n          <div className={styles.modal__button_wrap}>\r\n            <Button holderText={'Back to films list'} typeOfButton={'button'} nameOfClass={buttonStyles.backToFilmListButton} onClickFunc={handleCloseModal}/>\r\n            <Button holderText={'Yes, delete!'} typeOfButton={'button'} nameOfClass={buttonStyles.deleteButton} onClickFunc={this.handleDeleteFilm} dataId={filmId}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nModalDelete.propTypes = {\r\n  filmId: PropTypes.string.isRequired,\r\n  onClickDeleteFilm: PropTypes.func.isRequired,\r\n  handleCloseModal: PropTypes.func.isRequired,\r\n};\r\n\r\n\r\n"],"sourceRoot":""}